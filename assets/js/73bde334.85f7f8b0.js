"use strict";(globalThis.webpackChunkenv_checkup_docs=globalThis.webpackChunkenv_checkup_docs||[]).push([[622],{4855:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"Commands/command-validate","title":"Validate Command","description":"The validate command verifies that all your .env files match the definitions in your .env.schema.json.","source":"@site/docs/Commands/validate.md","sourceDirName":"Commands","slug":"/Commands/command-validate","permalink":"/Env-Checkup/docs/Commands/command-validate","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Commands/validate.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"command-validate","title":"Validate Command","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Init Command","permalink":"/Env-Checkup/docs/Commands/command-init"}}');var d=i(4848),c=i(8453);const a={id:"command-validate",title:"Validate Command",sidebar_position:3},r="\ud83e\udde9 env-checkup validate",l={},t=[{value:"\ud83e\udde9 Usage",id:"-usage",level:2},{value:"\ud83e\udde0 What It Does",id:"-what-it-does",level:2},{value:"\ud83d\udcac Example Output",id:"-example-output",level:2},{value:"\ud83d\udcc4 Example <code>.env</code> File",id:"-example-env-file",level:2},{value:"\ud83d\udcd8 Example <code>.env.schema.json</code>",id:"-example-envschemajson",level:2},{value:"\u2699\ufe0f Options",id:"\ufe0f-options",level:2},{value:"\ud83e\udde9 Example Commands",id:"-example-commands",level:2},{value:"Validate using the default schema:",id:"validate-using-the-default-schema",level:3},{value:"Validate using a custom schema:",id:"validate-using-a-custom-schema",level:3},{value:"Validate files in a specific directory:",id:"validate-files-in-a-specific-directory",level:3},{value:"Run in strict mode (useful for CI/CD):",id:"run-in-strict-mode-useful-for-cicd",level:3},{value:"Ignore specific variables:",id:"ignore-specific-variables",level:3},{value:"\ud83e\udde0 Example CI/CD Integration",id:"-example-cicd-integration",level:2},{value:"\ud83e\udde9 Example Project Structure",id:"-example-project-structure",level:2},{value:"\ud83e\uddfe Example npm Script",id:"-example-npm-script",level:2},{value:"\ud83e\uddf0 Debug Mode",id:"-debug-mode",level:2},{value:"\ud83e\udde9 Summary",id:"-summary",level:2},{value:"\ud83c\udfc1 Recommended Workflow",id:"-recommended-workflow",level:2}];function o(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsxs)(n.h1,{id:"-env-checkup-validate",children:["\ud83e\udde9 ",(0,d.jsx)(n.code,{children:"env-checkup validate"})]})}),"\n",(0,d.jsxs)(n.p,{children:["The ",(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"validate"})})," command verifies that all your ",(0,d.jsx)(n.code,{children:".env"})," files match the definitions in your ",(0,d.jsx)(n.code,{children:".env.schema.json"}),".",(0,d.jsx)(n.br,{}),"\n","It ensures that ",(0,d.jsx)(n.strong,{children:"every required environment variable"})," exists, has the correct type, and that no unwanted or missing values cause runtime issues."]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-usage",children:"\ud83e\udde9 Usage"}),"\n",(0,d.jsx)(n.p,{children:"Run the following command inside your project root:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npx env-checkup validate\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-what-it-does",children:"\ud83e\udde0 What It Does"}),"\n",(0,d.jsx)(n.p,{children:"When executed, Env Checkup will:"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["Load your configuration from ",(0,d.jsx)(n.code,{children:"envcheckup.config.json"})," (if available)."]}),"\n",(0,d.jsxs)(n.li,{children:["Discover all ",(0,d.jsx)(n.code,{children:".env"})," files recursively (e.g., ",(0,d.jsx)(n.code,{children:".env"}),", ",(0,d.jsx)(n.code,{children:".env.local"}),", ",(0,d.jsx)(n.code,{children:".env.example"}),")."]}),"\n",(0,d.jsxs)(n.li,{children:["Load your ",(0,d.jsx)(n.code,{children:".env.schema.json"})," for expected variables and types."]}),"\n",(0,d.jsxs)(n.li,{children:["Compare each ",(0,d.jsx)(n.code,{children:".env"})," file\u2019s values with the schema."]}),"\n",(0,d.jsx)(n.li,{children:"Report missing or invalid variables, and success for valid ones."}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-example-output",children:"\ud83d\udcac Example Output"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"$ npx env-checkup validate\r\n\r\n\ud83d\udd0d Checking environment files...\r\n\r\n\u2705 PORT = 3000\r\n\u2705 DATABASE_URL = postgres://localhost:5432/mydb\r\n\u26a0\ufe0f Missing variable: JWT_SECRET\r\n\u274c Invalid type: DEBUG (expected boolean, got string)\r\n\r\nSummary:\r\n3/5 variables valid\r\n2 issues found\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.h2,{id:"-example-env-file",children:["\ud83d\udcc4 Example ",(0,d.jsx)(n.code,{children:".env"})," File"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"PORT=3000\r\nDATABASE_URL=postgres://localhost/mydb\r\nDEBUG=true\n"})}),"\n",(0,d.jsxs)(n.h2,{id:"-example-envschemajson",children:["\ud83d\udcd8 Example ",(0,d.jsx)(n.code,{children:".env.schema.json"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\r\n  "PORT": "number",\r\n  "DATABASE_URL": "string",\r\n  "JWT_SECRET": "string",\r\n  "DEBUG": "boolean"\r\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Env Checkup compares these and immediately points out any missing or mismatched variables."}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\ufe0f-options",children:"\u2699\ufe0f Options"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Flag"}),(0,d.jsx)(n.th,{children:"Description"}),(0,d.jsx)(n.th,{children:"Example"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--schema <path>"})}),(0,d.jsx)(n.td,{children:"Specify a custom schema file path"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"env-checkup validate --schema ./config/env.schema.json"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--dir <path>"})}),(0,d.jsxs)(n.td,{children:["Specify directory to search for ",(0,d.jsx)(n.code,{children:".env"})," files"]}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"env-checkup validate --dir ./envs"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--strict"})}),(0,d.jsx)(n.td,{children:"Fail the command (non-zero exit) if any variable is missing or invalid"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"env-checkup validate --strict"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--ignore <vars>"})}),(0,d.jsx)(n.td,{children:"Comma-separated variables to ignore during validation"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"env-checkup validate --ignore NODE_ENV,DEBUG"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--debug"})}),(0,d.jsx)(n.td,{children:"Show detailed output (loaded config, found files, and schema path)"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"env-checkup validate --debug"})})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-example-commands",children:"\ud83e\udde9 Example Commands"}),"\n",(0,d.jsx)(n.h3,{id:"validate-using-the-default-schema",children:"Validate using the default schema:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npx env-checkup validate\n"})}),"\n",(0,d.jsx)(n.h3,{id:"validate-using-a-custom-schema",children:"Validate using a custom schema:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npx env-checkup validate --schema ./config/env.schema.json\n"})}),"\n",(0,d.jsx)(n.h3,{id:"validate-files-in-a-specific-directory",children:"Validate files in a specific directory:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npx env-checkup validate --dir ./config\n"})}),"\n",(0,d.jsx)(n.h3,{id:"run-in-strict-mode-useful-for-cicd",children:"Run in strict mode (useful for CI/CD):"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npx env-checkup validate --strict\n"})}),"\n",(0,d.jsxs)(n.p,{children:["If any issues are found, the process exits with a ",(0,d.jsx)(n.strong,{children:"non-zero status code"}),", which is perfect for automated pipelines."]}),"\n",(0,d.jsx)(n.h3,{id:"ignore-specific-variables",children:"Ignore specific variables:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npx env-checkup validate --ignore NODE_ENV,DEBUG\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-example-cicd-integration",children:"\ud83e\udde0 Example CI/CD Integration"}),"\n",(0,d.jsx)(n.p,{children:"To ensure your environment is valid before deploying, add Env Checkup to your CI pipeline."}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"GitHub Actions example:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"- name: Validate Environment Variables\r\n  run: npx env-checkup validate --strict\n"})}),"\n",(0,d.jsx)(n.p,{children:"If validation fails, the workflow stops immediately \u2014 preventing bad configurations from being deployed."}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-example-project-structure",children:"\ud83e\udde9 Example Project Structure"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"my-app/\r\n \u2523 .env\r\n \u2523 .env.local\r\n \u2523 .env.schema.json\r\n \u2523 envcheckup.config.json\r\n \u2523 package.json\r\n \u2517 src/\r\n   \u2517 index.ts\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-example-npm-script",children:"\ud83e\uddfe Example npm Script"}),"\n",(0,d.jsxs)(n.p,{children:["You can simplify validation for your team by adding a script to ",(0,d.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'"scripts": {\r\n  "env:validate": "env-checkup validate --strict"\r\n}\n'})}),"\n",(0,d.jsx)(n.p,{children:"Then run:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npm run env:validate\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-debug-mode",children:"\ud83e\uddf0 Debug Mode"}),"\n",(0,d.jsx)(n.p,{children:"Run in debug mode to inspect configuration and file discovery:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npx env-checkup validate --debug\n"})}),"\n",(0,d.jsx)(n.p,{children:"Output example:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'Loaded config: envcheckup.config.json\r\nSchema path: ./.env.schema.json\r\nDiscovered files: [".env", ".env.local"]\r\nValidating...\r\n\u2705 PORT = 3000\r\n\u26a0\ufe0f Missing variable: JWT_SECRET\n'})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-summary",children:"\ud83e\udde9 Summary"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Command"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"npx env-checkup validate"})}),(0,d.jsxs)(n.td,{children:["Validate ",(0,d.jsx)(n.code,{children:".env"})," files using schema"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--schema <path>"})}),(0,d.jsx)(n.td,{children:"Use a custom schema path"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--dir <path>"})}),(0,d.jsx)(n.td,{children:"Specify directory to search"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--strict"})}),(0,d.jsx)(n.td,{children:"Fail build if any variable is missing"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--ignore <vars>"})}),(0,d.jsx)(n.td,{children:"Skip validation for listed variables"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--debug"})}),(0,d.jsx)(n.td,{children:"Show detailed validation process"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"-recommended-workflow",children:"\ud83c\udfc1 Recommended Workflow"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# Step 1 \u2014 Create schema file\r\nnpx env-checkup init\r\n\r\n# Step 2 \u2014 Validate .env files\r\nnpx env-checkup validate\r\n\r\n# Step 3 \u2014 Enforce strict mode in CI/CD\r\nnpx env-checkup validate --strict\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsxs)(n.p,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"Pro Tip:"}),"\r\nAlways commit ",(0,d.jsx)(n.code,{children:".env.schema.json"})," and ",(0,d.jsx)(n.code,{children:"envcheckup.config.json"})," to version control \u2014 this keeps your environment setup consistent across all team members and deployments."]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var s=i(6540);const d={},c=s.createContext(d);function a(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:a(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);